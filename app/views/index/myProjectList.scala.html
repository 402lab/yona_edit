@(currentUser:models.User)
@import utils.TemplateHelper._

@displayProjects(title:String, projects:List[Project]) = {
<ul class="tab-pane unstyled my-project-item" id="@title">
@for(project <- projects){
    <li class="my-list-item" data-value="@if(project.owner != currentUser.loginId) {@project.owner / }@project.name">
        @if(project.owner != currentUser.loginId) {
        <a href="@routes.UserApp.userInfo(project.owner)">@project.owner</a> /
        }
        <a href="@routes.ProjectApp.project(project.owner, project.name)" class="project-name">
            <strong>@project.name @if(!project.isPublic){ <i class="yobicon-lock yobicon-small"></i> }</strong>
        </a>
    </li>
}
</ul>
}
@defining(currentUser.getVisitedProjects(10)){ visitedProjects =>
<ul class="tab-pane unstyled my-project-item active" id="recentlyVisited">
@for(pv <- visitedProjects){
    <li class="my-list-item" data-value="@if(pv.project.owner != currentUser.loginId) {@pv.project.owner / }@pv.project.name">
        @if(pv.project.owner != currentUser.loginId) {
        <a href="@routes.UserApp.userInfo(pv.project.owner)">@pv.project.owner</a> /
        }
        <a href="@routes.ProjectApp.project(pv.project.owner, pv.project.name)" class="project-name">
            <strong>@pv.project.name @if(!pv.project.isPublic){ <i class="yobicon-lock yobicon-small"></i> }</strong>
        </a>
    </li>
}
</ul>    
}

@orderString = @{"createdDate DESC"}
@displayProjects("watching", currentUser.getWatchingProjects(orderString))
@displayProjects("createdByMe", Project.findProjectsCreatedByUser(currentUser.loginId, orderString))
@displayProjects("joinmember", Project.findProjectsJustMemberAndNotOwner(currentUser, orderString))
