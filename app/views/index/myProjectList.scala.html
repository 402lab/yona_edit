@(currentUser:models.User)
@import utils.TemplateHelper._

@displayProjects(title:String, projects:List[Project]) = {
<ul class="tab-pane unstyled my-project-item" id="@title">
@for(project <- projects){
    <li class="my-list-item" data-value="@if(project.owner != currentUser.loginId) {@project.owner / }@project.name">
        <a href="@routes.ProjectApp.project(project.owner, project.name)" class="project-name">
            <img src="@urlToProjectLogo(project)" alt="@project.name"/> <strong>@project.name @if(project.isPrivate){ <i class="yobicon-lock yobicon-small"></i> }</strong>
        </a>
    </li>
}
</ul>
}
@defining(currentUser.getVisitedProjects(10)){ visitedProjects =>
<ul class="tab-pane unstyled my-project-item active" id="recentlyVisited">
@for(visited <- visitedProjects){
    <li class="my-list-item" data-value="@if(visited.project.owner != currentUser.loginId) {@visited.project.owner / }@visited.project.name">
        <img src="@urlToProjectLogo(visited.project)" alt="@visited.project.name"/><a href="@routes.ProjectApp.project(visited.project.owner, visited.project.name)" class="project-name">
            <strong>@visited.project.name @if(visited.project.isPrivate){ <i class="yobicon-lock yobicon-small"></i> }</strong>
        </a>
    </li>
}
</ul>    
}

@orderString = @{"createdDate DESC"}
@displayProjects("watching", currentUser.getWatchingProjects(orderString))
@displayProjects("createdByMe", Project.findProjectsCreatedByUser(currentUser.loginId, orderString))
@displayProjects("joinmember", Project.findProjectsJustMemberAndNotOwner(currentUser, orderString))
