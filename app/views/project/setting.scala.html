@(message: String)(projectForm: Form[Project], id: Long)

@import helper._
@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapInput.render) } 

@projectMngMain(message) {
       @form(action = routes.ProjectApp.saveSetting(id), 'class -> "form-horizontal"){
        <div class="row">
            <fieldset>                
                <div class="icon-question-sign" href = "#" id="project_name" rel="popover"
                    data-content="특수문자, 공백, 한글은 프로젝트 이름으로 사용하실 수 없습니다."
                    data-original-title="이름 규칙"
                ></div>
                @inputText(
                    projectForm("name"),
                    '_label -> "프로젝트 이름",
                    '_showConstraints -> true,
                    '_help -> "필수 입력 사항"
                )
                
                @textarea(
                    projectForm("overview"),
                    '_label -> "설명",
                    'cols -> 50,
                    '_help -> "선택 입력 사항"
                )
                
                <div class="icon-question-sign" href = "#" id="share_option_explanation" rel="popover"
                    data-content="비공개 프로젝트도 프로젝트 이름,설명,로고 등은 모든 사용자가 볼수 있습니다."
                    data-original-title="공개 설정"
                ></div>
                @inputRadioGroup(
                    projectForm("share_option"),
                    options = options("false"->"비공개", "true"->"공개"),
                    '_label -> "공개설정"
                )
                
                @inputText(
                    projectForm("url"),
                    '_label -> "사이트 URL",
                    '_showConstraints -> false
                )
            </fieldset>
        </div>
        <div class="row">
            <div class="actions">
                <input type="submit" class="btn btn-primary" value="저장">
            </div>
        </div>
    }
    
    @form(action = routes.ProjectApp.deleteProject(id), 'class -> "form-horizontal", 'id -> "deletion"){
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th><strong>프로젝트 삭제</strong></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <strong>프로젝트를 삭제하게되면 코드,위키,이슈관리 등 모든 데이터가 삭제되면 한번 삭제된 데이터는 복구가 불가능합니다.</strong>
                        <br>
                        <fieldset>
                        @checkbox(
                            projectForm("acceptDeletion"),
                            '_text -> "프로젝트를 삭제하는데 동의합니다.",
                            '_label -> None,
                            '_showConstraints -> false
                        )
                        </fieldset><br>
                        <div class="actions">
                            <input type="submit" class="btn btn-danger" value="프로젝트 삭제">
                        </div>
                    </td>    
                </tr>
            </tbody>
        </table>
    }
    
    <script>  
        window.onload = function(){
            $("#project_name").popover();
            $("#share_option_explanation").popover();
            $("#terms").popover();
            $("#deletion").submit(function() {
                if($("#acceptDeletion").is(":checked")) {
                    return true;    
                }else {
                    alert("프로젝트 삭제에 동의하여야 합니다.");
                    return false;
                } 
            });
        }
    </script>    
}
